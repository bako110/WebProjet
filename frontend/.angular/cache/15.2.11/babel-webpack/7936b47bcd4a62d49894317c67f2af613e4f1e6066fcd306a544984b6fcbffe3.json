{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet DashboardComponent = class DashboardComponent {\n  constructor(adminService) {\n    this.adminService = adminService;\n    this.banner = {\n      title: '',\n      image: null,\n      description: '',\n      ctaLink: ''\n    };\n    this.event = {\n      title: '',\n      image: null,\n      description: '',\n      date: ''\n    };\n    this.ad = {\n      title: '',\n      image: null,\n      description: '',\n      link: ''\n    };\n    this.product = {\n      name: '',\n      image: null,\n      price: 0,\n      description: ''\n    };\n    this.testimonial = {\n      author: '',\n      image: null,\n      testimonialText: ''\n    };\n    this.news = {\n      title: '',\n      content: '',\n      date: '',\n      image: null\n    };\n    this.video = {\n      title: '',\n      videoUrl: '',\n      description: ''\n    };\n    this.sections = [{\n      key: 'banner',\n      title: 'Bannière'\n    }, {\n      key: 'event',\n      title: 'Événement'\n    }, {\n      key: 'ad',\n      title: 'Publicité'\n    }, {\n      key: 'video',\n      title: 'Vidéo'\n    }, {\n      key: 'product',\n      title: 'Produit'\n    }, {\n      key: 'testimonial',\n      title: 'Témoignage'\n    }, {\n      key: 'news',\n      title: 'Actualité'\n    }];\n    this.visibleForms = {};\n  }\n  toggleForm(sectionKey, event) {\n    event.stopPropagation();\n    this.visibleForms[sectionKey] = !this.visibleForms[sectionKey];\n  }\n  isFormVisible(sectionKey) {\n    return this.visibleForms[sectionKey];\n  }\n  onFileChange(event, field) {\n    const input = event.target;\n    const file = input.files?.[0] ?? null;\n    switch (field) {\n      case 'bannerImage':\n        this.banner.image = file;\n        break;\n      case 'eventImage':\n        this.event.image = file;\n        break;\n      case 'adImage':\n        this.ad.image = file;\n        break;\n      case 'productImage':\n        this.product.image = file;\n        break;\n      case 'testimonialImage':\n        this.testimonial.image = file;\n        break;\n      case 'newsImage':\n        this.news.image = file;\n        break;\n    }\n  }\n  submitForm(sectionKey) {\n    let formData = new FormData();\n    switch (sectionKey) {\n      case 'banner':\n        formData.append('title', this.banner.title);\n        formData.append('description', this.banner.description);\n        formData.append('ctaLink', this.banner.ctaLink);\n        if (this.banner.image) {\n          formData.append('image', this.banner.image, this.banner.image.name);\n        }\n        this.adminService.addBanner(formData).subscribe({\n          next: response => {\n            console.log('Bannière envoyée avec succès', response);\n          },\n          error: err => {\n            console.error('Erreur lors de l\\'envoi de la bannière', err);\n          }\n        });\n        break;\n      case 'event':\n        formData.append('title', this.event.title);\n        formData.append('description', this.event.description);\n        formData.append('date', this.event.date);\n        if (this.event.image) {\n          formData.append('image', this.event.image, this.event.image.name);\n        }\n        this.adminService.addEvent(formData).subscribe({\n          next: response => {\n            console.log('Événement envoyé avec succès', response);\n          },\n          error: err => {\n            console.error('Erreur lors de l\\'envoi de l\\'événement', err);\n          }\n        });\n        break;\n      case 'ad':\n        formData.append('title', this.ad.title);\n        formData.append('description', this.ad.description);\n        formData.append('link', this.ad.link);\n        if (this.ad.image) {\n          formData.append('image', this.ad.image, this.ad.image.name);\n        }\n        this.adminService.addAd(formData).subscribe({\n          next: response => {\n            console.log('Publicité envoyée avec succès', response);\n          },\n          error: err => {\n            console.error('Erreur lors de l\\'envoi de la publicité', err);\n          }\n        });\n        break;\n      case 'video':\n        formData.append('title', this.video.title);\n        formData.append('videoUrl', this.video.videoUrl);\n        formData.append('description', this.video.description);\n        this.adminService.addVideo(formData).subscribe({\n          next: response => {\n            console.log('Vidéo envoyée avec succès', response);\n          },\n          error: err => {\n            console.error('Erreur lors de l\\'envoi de la vidéo', err);\n          }\n        });\n        break;\n      case 'product':\n        formData.append('name', this.product.name);\n        formData.append('price', this.product.price.toString());\n        formData.append('description', this.product.description);\n        if (this.product.image) {\n          formData.append('image', this.product.image, this.product.image.name);\n        }\n        this.adminService.addProduct(formData).subscribe({\n          next: response => {\n            console.log('Produit envoyé avec succès', response);\n          },\n          error: err => {\n            console.error('Erreur lors de l\\'envoi du produit', err);\n          }\n        });\n        break;\n      case 'testimonial':\n        formData.append('author', this.testimonial.author);\n        formData.append('testimonialText', this.testimonial.testimonialText);\n        if (this.testimonial.image) {\n          formData.append('image', this.testimonial.image, this.testimonial.image.name);\n        }\n        this.adminService.addTestimonial(formData).subscribe({\n          next: response => {\n            console.log('Témoignage envoyé avec succès', response);\n          },\n          error: err => {\n            console.error('Erreur lors de l\\'envoi du témoignage', err);\n          }\n        });\n        break;\n      case 'news':\n        formData.append('title', this.news.title);\n        formData.append('content', this.news.content);\n        formData.append('date', this.news.date);\n        if (this.news.image) {\n          formData.append('image', this.news.image, this.news.image.name);\n        }\n        this.adminService.addNews(formData).subscribe({\n          next: response => {\n            console.log('Actualité envoyée avec succès', response);\n          },\n          error: err => {\n            console.error('Erreur lors de l\\'envoi de l\\'actualité', err);\n          }\n        });\n        break;\n    }\n    this.resetForm(sectionKey);\n    this.visibleForms[sectionKey] = false;\n  }\n  resetForm(sectionKey) {\n    switch (sectionKey) {\n      case 'banner':\n        this.banner = {\n          title: '',\n          image: null,\n          description: '',\n          ctaLink: ''\n        };\n        break;\n      case 'event':\n        this.event = {\n          title: '',\n          image: null,\n          description: '',\n          date: ''\n        };\n        break;\n      case 'ad':\n        this.ad = {\n          title: '',\n          image: null,\n          description: '',\n          link: ''\n        };\n        break;\n      case 'video':\n        this.video = {\n          title: '',\n          videoUrl: '',\n          description: ''\n        };\n        break;\n      case 'product':\n        this.product = {\n          name: '',\n          image: null,\n          price: 0,\n          description: ''\n        };\n        break;\n      case 'testimonial':\n        this.testimonial = {\n          author: '',\n          image: null,\n          testimonialText: ''\n        };\n        break;\n      case 'news':\n        this.news = {\n          title: '',\n          content: '',\n          date: '',\n          image: null\n        };\n        break;\n    }\n  }\n  expandSection(sectionKey, event) {\n    event.stopPropagation();\n    // Tu peux ajouter des animations ici\n  }\n};\n\nDashboardComponent = __decorate([Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.css']\n})], DashboardComponent);\nexport { DashboardComponent };","map":{"version":3,"mappings":"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","names":["Component","DashboardComponent","constructor","adminService","title","image","description","ctaLink","date","link","name","price","author","testimonialText","content","videoUrl","key","toggleForm","sectionKey","event","stopPropagation","visibleForms","isFormVisible","onFileChange","field","input","target","file","files","banner","ad","product","testimonial","news","submitForm","formData","FormData","append","addBanner","subscribe","next","response","console","log","error","err","addEvent","addAd","video","addVideo","toString","addProduct","addTestimonial","addNews","resetForm","expandSection","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\user\\webProjet\\frontend\\src\\app\\components\\admin\\dashboard\\dashboard.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { AdminService } from './admin.service'; // Assurez-vous d'importer le service correctement\nimport { HttpResponse } from '@angular/common/http';\n\ninterface Banner {\n  title: string;\n  image: File | null;\n  description: string;\n  ctaLink: string;\n}\n\ninterface EventSection {\n  title: string;\n  image: File | null;\n  description: string;\n  date: string;\n}\n\ninterface Ad {\n  title: string;\n  image: File | null;\n  description: string;\n  link: string;\n}\n\ninterface Product {\n  name: string;\n  image: File | null;\n  price: number;\n  description: string;\n}\n\ninterface Testimonial {\n  author: string;\n  image: File | null;\n  testimonialText: string;\n}\n\ninterface News {\n  title: string;\n  content: string;\n  date: string;\n  image: File | null;\n}\n\ninterface Video {\n  title: string;\n  videoUrl: string;\n  description: string;\n}\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.css']\n})\nexport class DashboardComponent {\n  banner: Banner = { title: '', image: null, description: '', ctaLink: '' };\n  event: EventSection = { title: '', image: null, description: '', date: '' };\n  ad: Ad = { title: '', image: null, description: '', link: '' };\n  product: Product = { name: '', image: null, price: 0, description: '' };\n  testimonial: Testimonial = { author: '', image: null, testimonialText: '' };\n  news: News = { title: '', content: '', date: '', image: null };\n  video: Video = { title: '', videoUrl: '', description: '' };\n\n  sections = [\n    { key: 'banner', title: 'Bannière' },\n    { key: 'event', title: 'Événement' },\n    { key: 'ad', title: 'Publicité' },\n    { key: 'video', title: 'Vidéo' },\n    { key: 'product', title: 'Produit' },\n    { key: 'testimonial', title: 'Témoignage' },\n    { key: 'news', title: 'Actualité' }\n  ];\n\n  visibleForms: { [key: string]: boolean } = {};\n\n  constructor(private adminService: AdminService) {}\n\n  toggleForm(sectionKey: string, event: Event): void {\n    event.stopPropagation();\n    this.visibleForms[sectionKey] = !this.visibleForms[sectionKey];\n  }\n\n  isFormVisible(sectionKey: string): boolean {\n    return this.visibleForms[sectionKey];\n  }\n\n  onFileChange(event: Event, field: string): void {\n    const input = event.target as HTMLInputElement;\n    const file = input.files?.[0] ?? null;\n\n    switch (field) {\n      case 'bannerImage':\n        this.banner.image = file;\n        break;\n      case 'eventImage':\n        this.event.image = file;\n        break;\n      case 'adImage':\n        this.ad.image = file;\n        break;\n      case 'productImage':\n        this.product.image = file;\n        break;\n      case 'testimonialImage':\n        this.testimonial.image = file;\n        break;\n      case 'newsImage':\n        this.news.image = file;\n        break;\n    }\n  }\n\n  submitForm(sectionKey: string): void {\n    let formData = new FormData();\n\n    switch (sectionKey) {\n      case 'banner':\n        formData.append('title', this.banner.title);\n        formData.append('description', this.banner.description);\n        formData.append('ctaLink', this.banner.ctaLink);\n        if (this.banner.image) {\n          formData.append('image', this.banner.image, this.banner.image.name);\n        }\n        this.adminService.addBanner(formData).subscribe({\n          next: (response: HttpResponse<any>) => {\n            console.log('Bannière envoyée avec succès', response);\n          },\n          error: (err: any) => {\n            console.error('Erreur lors de l\\'envoi de la bannière', err);\n          }\n        });\n        break;\n      case 'event':\n        formData.append('title', this.event.title);\n        formData.append('description', this.event.description);\n        formData.append('date', this.event.date);\n        if (this.event.image) {\n          formData.append('image', this.event.image, this.event.image.name);\n        }\n        this.adminService.addEvent(formData).subscribe({\n          next: (response: HttpResponse<any>) => {\n            console.log('Événement envoyé avec succès', response);\n          },\n          error: (err: any) => {\n            console.error('Erreur lors de l\\'envoi de l\\'événement', err);\n          }\n        });\n        break;\n      case 'ad':\n        formData.append('title', this.ad.title);\n        formData.append('description', this.ad.description);\n        formData.append('link', this.ad.link);\n        if (this.ad.image) {\n          formData.append('image', this.ad.image, this.ad.image.name);\n        }\n        this.adminService.addAd(formData).subscribe({\n          next: (response: HttpResponse<any>) => {\n            console.log('Publicité envoyée avec succès', response);\n          },\n          error: (err: any) => {\n            console.error('Erreur lors de l\\'envoi de la publicité', err);\n          }\n        });\n        break;\n      case 'video':\n        formData.append('title', this.video.title);\n        formData.append('videoUrl', this.video.videoUrl);\n        formData.append('description', this.video.description);\n        this.adminService.addVideo(formData).subscribe({\n          next: (response: HttpResponse<any>) => {\n            console.log('Vidéo envoyée avec succès', response);\n          },\n          error: (err: HttpResponse<any>) => {\n            console.error('Erreur lors de l\\'envoi de la vidéo', err);\n          }\n        });\n        break;\n      case 'product':\n        formData.append('name', this.product.name);\n        formData.append('price', this.product.price.toString());\n        formData.append('description', this.product.description);\n        if (this.product.image) {\n          formData.append('image', this.product.image, this.product.image.name);\n        }\n        this.adminService.addProduct(formData).subscribe({\n          next: (response: HttpResponse<any>) => {\n            console.log('Produit envoyé avec succès', response);\n          },\n          error: (err: any) => {\n            console.error('Erreur lors de l\\'envoi du produit', err);\n          }\n        });\n        break;\n      case 'testimonial':\n        formData.append('author', this.testimonial.author);\n        formData.append('testimonialText', this.testimonial.testimonialText);\n        if (this.testimonial.image) {\n          formData.append('image', this.testimonial.image, this.testimonial.image.name);\n        }\n        this.adminService.addTestimonial(formData).subscribe({\n          next: (response: HttpResponse<any>) => {\n            console.log('Témoignage envoyé avec succès', response);\n          },\n          error: (err: any) => {\n            console.error('Erreur lors de l\\'envoi du témoignage', err);\n          }\n        });\n        break;\n      case 'news':\n        formData.append('title', this.news.title);\n        formData.append('content', this.news.content);\n        formData.append('date', this.news.date);\n        if (this.news.image) {\n          formData.append('image', this.news.image, this.news.image.name);\n        }\n        this.adminService.addNews(formData).subscribe({\n          next: (response: HttpResponse<any>) => {\n            console.log('Actualité envoyée avec succès', response);\n          },\n          error: (err: any) => {\n            console.error('Erreur lors de l\\'envoi de l\\'actualité', err);\n          }\n        });\n        break;\n    }\n\n    this.resetForm(sectionKey);\n    this.visibleForms[sectionKey] = false;\n  }\n\n  resetForm(sectionKey: string): void {\n    switch (sectionKey) {\n      case 'banner':\n        this.banner = { title: '', image: null, description: '', ctaLink: '' };\n        break;\n      case 'event':\n        this.event = { title: '', image: null, description: '', date: '' };\n        break;\n      case 'ad':\n        this.ad = { title: '', image: null, description: '', link: '' };\n        break;\n      case 'video':\n        this.video = { title: '', videoUrl: '', description: '' };\n        break;\n      case 'product':\n        this.product = { name: '', image: null, price: 0, description: '' };\n        break;\n      case 'testimonial':\n        this.testimonial = { author: '', image: null, testimonialText: '' };\n        break;\n      case 'news':\n        this.news = { title: '', content: '', date: '', image: null };\n        break;\n    }\n  }\n\n  expandSection(sectionKey: string, event: Event): void {\n    event.stopPropagation();\n    // Tu peux ajouter des animations ici\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}