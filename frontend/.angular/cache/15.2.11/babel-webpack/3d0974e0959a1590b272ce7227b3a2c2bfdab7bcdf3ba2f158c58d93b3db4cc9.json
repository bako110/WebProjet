{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nlet ContenuAccueilComponent = class ContenuAccueilComponent {\n  constructor(visibilityService, adminService,\n  // Service pour admin\n  utilisateurService // Service pour utilisateur\n  ) {\n    this.visibilityService = visibilityService;\n    this.adminService = adminService;\n    this.utilisateurService = utilisateurService;\n    this.isBannerVisible = false;\n    this.destroy$ = new Subject();\n    // Données à charger\n    this.banners = [];\n    this.events = [];\n    this.ads = [];\n    this.videos = [];\n    this.products = [];\n    this.testimonials = [];\n    this.news = [];\n    this.userData = []; // Pour stocker les données des utilisateurs\n  }\n\n  ngOnInit() {\n    // S'abonner à la visibilité du banner via le service\n    this.visibilityService.isVisible$.pipe(takeUntil(this.destroy$)).subscribe(visible => {\n      this.isBannerVisible = visible;\n    });\n    // Charger les différentes données via les services appropriés\n    this.loadBanners();\n    this.loadEvents();\n    this.loadAds();\n    this.loadVideos();\n    this.loadProducts();\n    this.loadTestimonials();\n    this.loadNews();\n    this.loadUserData(); // Charger les données utilisateur\n  }\n\n  ngOnDestroy() {\n    // Nettoyage de l'abonnement lors de la destruction du composant\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n  // Méthode pour charger les bannières\n  loadBanners() {\n    this.adminService.getBannieres().subscribe(data => {\n      this.banners = data;\n    });\n  }\n  // Méthode pour charger les événements\n  loadEvents() {\n    this.adminService.getEvenements().subscribe(data => {\n      this.events = data;\n    });\n  }\n  // Méthode pour charger les publicités\n  loadAds() {\n    this.adminService.getPublicites().subscribe(data => {\n      this.ads = data;\n    });\n  }\n  // Méthode pour charger les vidéos\n  loadVideos() {\n    this.adminService.getVideos().subscribe(data => {\n      this.videos = data;\n    });\n  }\n  // Méthode pour charger les produits\n  loadProducts() {\n    this.adminService.getProduits().subscribe(data => {\n      this.products = data;\n    });\n  }\n  // Méthode pour charger les témoignages\n  loadTestimonials() {\n    this.adminService.getTemoignages().subscribe(data => {\n      this.testimonials = data;\n    });\n  }\n  // Méthode pour charger les actualités\n  loadNews() {\n    this.adminService.getActualites().subscribe(data => {\n      this.news = data;\n    });\n  }\n  // Méthode pour charger les données utilisateur\n  loadUserData() {\n    this.utilisateurService.getUserData().subscribe(data => {\n      this.userData = data;\n    });\n  }\n};\nContenuAccueilComponent = __decorate([Component({\n  selector: 'app-contenu-accueil',\n  templateUrl: './contenu-accueil.component.html',\n  styleUrls: ['./contenu-accueil.component.css']\n})], ContenuAccueilComponent);\nexport { ContenuAccueilComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAA2B,eAAe;AAC5D,SAASC,OAAO,QAAQ,MAAM;AAC9B,SAASC,SAAS,QAAQ,gBAAgB;AASnC,IAAMC,uBAAuB,GAA7B,MAAMA,uBAAuB;EAelCC,YACmBC,iBAAoC,EACpCC,YAA0B;EAAG;EAC7BC,kBAAsC,CAAE;EAAA;IAFxC,sBAAiB,GAAjBF,iBAAiB;IACjB,iBAAY,GAAZC,YAAY;IACZ,uBAAkB,GAAlBC,kBAAkB;IAjBrC,oBAAe,GAAG,KAAK;IAEN,aAAQ,GAAG,IAAIN,OAAO,EAAQ;IAE/C;IACA,YAAO,GAAU,EAAE;IACnB,WAAM,GAAU,EAAE;IAClB,QAAG,GAAU,EAAE;IACf,WAAM,GAAU,EAAE;IAClB,aAAQ,GAAU,EAAE;IACpB,iBAAY,GAAU,EAAE;IACxB,SAAI,GAAU,EAAE;IAChB,aAAQ,GAAU,EAAE,CAAC,CAAE;EAMpB;;EAEHO,QAAQ;IACN;IACA,IAAI,CAACH,iBAAiB,CAACI,UAAU,CAC9BC,IAAI,CAACR,SAAS,CAAC,IAAI,CAACS,QAAQ,CAAC,CAAC,CAC9BC,SAAS,CAACC,OAAO,IAAG;MACnB,IAAI,CAACC,eAAe,GAAGD,OAAO;IAChC,CAAC,CAAC;IAEJ;IACA,IAAI,CAACE,WAAW,EAAE;IAClB,IAAI,CAACC,UAAU,EAAE;IACjB,IAAI,CAACC,OAAO,EAAE;IACd,IAAI,CAACC,UAAU,EAAE;IACjB,IAAI,CAACC,YAAY,EAAE;IACnB,IAAI,CAACC,gBAAgB,EAAE;IACvB,IAAI,CAACC,QAAQ,EAAE;IACf,IAAI,CAACC,YAAY,EAAE,CAAC,CAAE;EACxB;;EAEAC,WAAW;IACT;IACA,IAAI,CAACZ,QAAQ,CAACa,IAAI,EAAE;IACpB,IAAI,CAACb,QAAQ,CAACc,QAAQ,EAAE;EAC1B;EAEA;EACAV,WAAW;IACT,IAAI,CAACT,YAAY,CAACoB,YAAY,EAAE,CAACd,SAAS,CAACe,IAAI,IAAG;MAChD,IAAI,CAACC,OAAO,GAAGD,IAAI;IACrB,CAAC,CAAC;EACJ;EAEA;EACAX,UAAU;IACR,IAAI,CAACV,YAAY,CAACuB,aAAa,EAAE,CAACjB,SAAS,CAACe,IAAI,IAAG;MACjD,IAAI,CAACG,MAAM,GAAGH,IAAI;IACpB,CAAC,CAAC;EACJ;EAEA;EACAV,OAAO;IACL,IAAI,CAACX,YAAY,CAACyB,aAAa,EAAE,CAACnB,SAAS,CAACe,IAAI,IAAG;MACjD,IAAI,CAACK,GAAG,GAAGL,IAAI;IACjB,CAAC,CAAC;EACJ;EAEA;EACAT,UAAU;IACR,IAAI,CAACZ,YAAY,CAAC2B,SAAS,EAAE,CAACrB,SAAS,CAACe,IAAI,IAAG;MAC7C,IAAI,CAACO,MAAM,GAAGP,IAAI;IACpB,CAAC,CAAC;EACJ;EAEA;EACAR,YAAY;IACV,IAAI,CAACb,YAAY,CAAC6B,WAAW,EAAE,CAACvB,SAAS,CAACe,IAAI,IAAG;MAC/C,IAAI,CAACS,QAAQ,GAAGT,IAAI;IACtB,CAAC,CAAC;EACJ;EAEA;EACAP,gBAAgB;IACd,IAAI,CAACd,YAAY,CAAC+B,cAAc,EAAE,CAACzB,SAAS,CAACe,IAAI,IAAG;MAClD,IAAI,CAACW,YAAY,GAAGX,IAAI;IAC1B,CAAC,CAAC;EACJ;EAEA;EACAN,QAAQ;IACN,IAAI,CAACf,YAAY,CAACiC,aAAa,EAAE,CAAC3B,SAAS,CAACe,IAAI,IAAG;MACjD,IAAI,CAACa,IAAI,GAAGb,IAAI;IAClB,CAAC,CAAC;EACJ;EAEA;EACAL,YAAY;IACV,IAAI,CAACf,kBAAkB,CAACkC,WAAW,EAAE,CAAC7B,SAAS,CAACe,IAAI,IAAG;MACrD,IAAI,CAACe,QAAQ,GAAGf,IAAI;IACtB,CAAC,CAAC;EACJ;CACD;AArGYxB,uBAAuB,eALnCH,SAAS,CAAC;EACT2C,QAAQ,EAAE,qBAAqB;EAC/BC,WAAW,EAAE,kCAAkC;EAC/CC,SAAS,EAAE,CAAC,iCAAiC;CAC9C,CAAC,GACW1C,uBAAuB,CAqGnC;SArGYA,uBAAuB","names":["Component","Subject","takeUntil","ContenuAccueilComponent","constructor","visibilityService","adminService","utilisateurService","ngOnInit","isVisible$","pipe","destroy$","subscribe","visible","isBannerVisible","loadBanners","loadEvents","loadAds","loadVideos","loadProducts","loadTestimonials","loadNews","loadUserData","ngOnDestroy","next","complete","getBannieres","data","banners","getEvenements","events","getPublicites","ads","getVideos","videos","getProduits","products","getTemoignages","testimonials","getActualites","news","getUserData","userData","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\user\\webProjet\\frontend\\src\\app\\components\\utlisateur\\contenu-accueil\\contenu-accueil.component.ts"],"sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { VisibilityService } from 'src/app/services/visibility.service';  // Service de visibilité\nimport { UtilisateurService } from '../utilisateur.service';\nimport { ad}\n@Component({\n  selector: 'app-contenu-accueil',\n  templateUrl: './contenu-accueil.component.html',\n  styleUrls: ['./contenu-accueil.component.css']\n})\nexport class ContenuAccueilComponent implements OnInit, OnDestroy {\n  isBannerVisible = false;\n\n  private readonly destroy$ = new Subject<void>();\n\n  // Données à charger\n  banners: any[] = [];\n  events: any[] = [];\n  ads: any[] = [];\n  videos: any[] = [];\n  products: any[] = [];\n  testimonials: any[] = [];\n  news: any[] = [];\n  userData: any[] = [];  // Pour stocker les données des utilisateurs\n\n  constructor(\n    private readonly visibilityService: VisibilityService,\n    private readonly adminService: AdminService,  // Service pour admin\n    private readonly utilisateurService: UtilisateurService  // Service pour utilisateur\n  ) {}\n\n  ngOnInit(): void {\n    // S'abonner à la visibilité du banner via le service\n    this.visibilityService.isVisible$\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(visible => {\n        this.isBannerVisible = visible;\n      });\n\n    // Charger les différentes données via les services appropriés\n    this.loadBanners();\n    this.loadEvents();\n    this.loadAds();\n    this.loadVideos();\n    this.loadProducts();\n    this.loadTestimonials();\n    this.loadNews();\n    this.loadUserData();  // Charger les données utilisateur\n  }\n\n  ngOnDestroy(): void {\n    // Nettoyage de l'abonnement lors de la destruction du composant\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  // Méthode pour charger les bannières\n  loadBanners() {\n    this.adminService.getBannieres().subscribe(data => {\n      this.banners = data;\n    });\n  }\n\n  // Méthode pour charger les événements\n  loadEvents() {\n    this.adminService.getEvenements().subscribe(data => {\n      this.events = data;\n    });\n  }\n\n  // Méthode pour charger les publicités\n  loadAds() {\n    this.adminService.getPublicites().subscribe(data => {\n      this.ads = data;\n    });\n  }\n\n  // Méthode pour charger les vidéos\n  loadVideos() {\n    this.adminService.getVideos().subscribe(data => {\n      this.videos = data;\n    });\n  }\n\n  // Méthode pour charger les produits\n  loadProducts() {\n    this.adminService.getProduits().subscribe(data => {\n      this.products = data;\n    });\n  }\n\n  // Méthode pour charger les témoignages\n  loadTestimonials() {\n    this.adminService.getTemoignages().subscribe(data => {\n      this.testimonials = data;\n    });\n  }\n\n  // Méthode pour charger les actualités\n  loadNews() {\n    this.adminService.getActualites().subscribe(data => {\n      this.news = data;\n    });\n  }\n\n  // Méthode pour charger les données utilisateur\n  loadUserData() {\n    this.utilisateurService.getUserData().subscribe(data => {\n      this.userData = data;\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}